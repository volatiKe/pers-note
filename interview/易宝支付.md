一面

为什么结算时间这个要素放在清算系统中处理？
	* 核心的清算逻辑是对信息流的清算，是可以不经过结算系统
	* 耦合交易逻辑，统一维护
结算的触发是清算？
	* 结算没有时间字段，考虑是让清算通知结算
交易量剧增，文件的交互方式怎么优化？
	* 拆分文件
	* 上游额外告诉清算明细给完了

线程池任务执行机制
hashmap 原理：put & get
值传递 & 引用传递
如何设计消息队列
	* 两次rpc + 一次存储
		* 通信：rpc 框架，同机房投递
		* 高可用：
			* 存储：共享存储，消息处理才能幂等
			* rpc：服务发现
		* 消费关系：单播 & 广播
		* 可靠性：
			* producer 发往 broker 前落地
			* 允许消费者主动确认消费成功
			* 到底哪些由队列保证要实际权衡
redis 干啥
	* 怎么加的锁，啥场景
		* 退款+收款
		* 主流程 + 补单
补单机制
	* 每个异步流程有准入状态，捞到非终态数据后直接走到当前状态准入的流程
为啥清算单号+批次维度唯一索引：单笔订单清算多次
缓存双写一致性问题
分库分表非分片键查询
建表关键因素
	* 唯一索引
	* 查询索引
	* 字段长度 varchar
	* not null
		* 比空串会占用空间
		* 对count统计有影响，不会统计null
		* 不能用等号
		* 表达式计算会失效
		* 索引中认为是最小值